<!-- Compressed and Minified Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.12.0/headroom.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js" defer></script>
<!-- <script src="/js/jquery.serialscrolling.min.js" defer></script> -->

{{ with $script := resources.Get "/js/main.js" | resources.Minify | resources.Fingerprint }}
<script src="{{ $script.RelPermalink }}" defer></script>
{{ end }}

<!-- Start of HubSpot Embed Code -->
<script type="text/javascript" id="hs-script-loader" async defer src="//js.hs-scripts.com/9255943.js"></script>
<!-- End of HubSpot Embed Code -->

<!-- Start of Tawk.to Script -->
<script type="text/javascript" defer>
// if (window.innerWidth >= 768) {
//   setTimeout(() => {
//     var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
//     (function() {
//       var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
//       s1.async = true;
//       s1.src = 'https://embed.tawk.to/5821e34b18d9f16af02864b7/default';
//       s1.charset = 'UTF-8';
//       s1.setAttribute('crossorigin', '*');
//       s0.parentNode.insertBefore(s1, s0);
//     })();
//   }, 2000);
// }

document.addEventListener('DOMContentLoaded', function () {
    // Check if the screen width is greater than 768px
    if (window.innerWidth > 768) {
        // Set the position you want to trigger the script (e.g., 50 pixels from the top)
        var scrollTriggerPosition = 50;

        // Function to load the Tawk.to script
        function loadTawkTo() {
            setTimeout(() => {
                var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
                (function() {
                    var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
                    s1.async = true;
                    s1.src = 'https://embed.tawk.to/5821e34b18d9f16af02864b7/default';
                    s1.charset = 'UTF-8';
                    s1.setAttribute('crossorigin', '*');
                    s0.parentNode.insertBefore(s1, s0);
                })();
            }, 0);
        }

        // Named function to handle the scroll event
        function onScroll() {
            // Check if the user has scrolled past the trigger position
            if (window.scrollY > scrollTriggerPosition) {
                // Load the Tawk.to script
                loadTawkTo();
                // Remove the event listener after the script has been loaded
                window.removeEventListener('scroll', onScroll);
            }
        }

        // Add the scroll event listener
        window.addEventListener('scroll', onScroll);
    }
});


const backButtonAll = document.querySelectorAll(".back-button");
Array.from(backButtonAll).forEach((el) => {
    el.addEventListener("click", () => {
    const activeNavElement = el.closest(".nav-item.is-active");
    if (activeNavElement) activeNavElement.classList.remove("is-active");
    });
});

</script>
